<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inspirador Y√≥guico: Ideas para Redes Sociales</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <style>
        /* Paleta de colores c√°lidos y espirituales */
        :root {
            --primary-color: #E57373; /* Coral suave */
            --secondary-color: #FFB74D; /* Naranja c√°lido */
            --accent-color: #81C784; /* Verde suave */
            --text-color: #4E342E; /* Marr√≥n oscuro */
            --bg-color: #FFF8E1; /* Crema muy claro */
            --card-bg: #FFFFFF;
            --footer-bg: #D7CCC8; /* Marr√≥n claro */
        }

        html {
            scroll-behavior: smooth;
            background-color: var(--bg-color); /* Fondo general */
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background-color: var(--bg-color); /* Ensure body bg matches html */
            -webkit-font-smoothing: antialiased; /* Improve font rendering */
            -moz-osx-font-smoothing: grayscale;
        }

        .hero.is-primary {
            background-color: var(--primary-color);
            background-image: linear-gradient(141deg, var(--primary-color) 0%, var(--secondary-color) 71%, var(--accent-color) 100%);
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        .hero .title, .hero .subtitle {
            color: white;
        }

        .section {
            padding: 2rem 1.5rem;
        }

        .main-content {
            flex: 1;
            width: 100%; /* Ensure it takes full width */
            max-width: 1200px; /* Optional: Max width for very large screens */
            margin: 0 auto; /* Center the content */
            padding-bottom: 4rem;
        }

        .box.inspiration-card {
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(78, 52, 46, 0.1);
            margin-bottom: 1.5rem;
            border-left: 5px solid var(--accent-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow-wrap: break-word; /* Prevent long words from overflowing */
            word-wrap: break-word;
        }

        .box.inspiration-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(78, 52, 46, 0.15);
        }

        .inspiration-card h3.title {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .inspiration-card h4.subtitle {
            color: var(--secondary-color);
            font-weight: bold;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            font-size: 1.1em;
        }

        .inspiration-card p {
            margin-bottom: 0.75rem;
        }

         .inspiration-card .tags .tag {
            background-color: var(--accent-color);
            color: white;
            margin-right: 0.3rem;
            margin-bottom: 0.3rem;
            border-radius: 12px;
        }

        .inspiration-card .tags .tag:hover {
            background-color: #66BB6A;
        }

        .control-panel {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(78, 52, 46, 0.08);
            margin-bottom: 2rem;
            display: flex;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            justify-content: center;
            align-items: center;
            gap: 1rem;
        }

        .control-panel .field {
             margin-bottom: 0; /* Remove default bottom margin for fields in flex */
        }

        .control-panel .select select {
            border-color: var(--secondary-color);
        }
        .control-panel .select:not(.is-multiple):not(.is-loading)::after {
            border-color: var(--secondary-color);
        }

        .button.is-primary {
            background-color: var(--primary-color);
            border: none;
            transition: background-color 0.3s ease;
        }
        .button.is-primary:hover {
            background-color: #D32F2F;
        }

        .button.is-info {
            background-color: var(--secondary-color);
            border: none;
            transition: background-color 0.3s ease;
            color: white;
        }
        .button.is-info:hover {
            background-color: #FB8C00;
        }
         .button.is-info:disabled {
            background-color: #FFCC80;
            cursor: not-allowed;
            opacity: 0.7;
        }

        .yogi-quote {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 8px;
            text-align: center;
            font-style: italic;
            box-shadow: 0 4px 8px rgba(78, 52, 46, 0.1);
        }
        .yogi-quote p {
            margin-bottom: 0.2rem;
            font-size: 1.1em;
        }
        .yogi-quote cite {
             display: block;
             margin-top: 0.5rem;
             font-size: 0.9em;
             font-style: normal;
        }

        .footer {
            background-color: var(--footer-bg);
            padding: 2rem 1.5rem;
            color: var(--text-color);
            text-align: center;
        }

        /* Estilos para la notificaci√≥n */
        #notificationArea {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1000;
            width: 90%; /* Adjust width for mobile */
            max-width: 400px; /* Max width on larger screens */
        }

        /* Clases para PDF (ocultas por defecto en web) */
        .pdf-title {
            display: none; /* Oculto en la web */
            text-align: center;
            margin-bottom: 20px;
            color: var(--primary-color);
            font-size: 1.8em;
            font-weight: bold;
        }
        /* Ensure content within PDF is visible */
        .pdf-export-prepare .inspiration-card {
             display: block !important; /* Ensure cards are block for PDF */
             visibility: visible !important; /* Ensure visibility */
             opacity: 1 !important; /* Ensure full opacity */
             animation: none !important; /* Disable animations for PDF */
        }


        /* Media query para Responsividad M√≥vil */
        @media screen and (max-width: 768px) {
            .hero .title {
                font-size: 1.8em; /* Reducir tama√±o t√≠tulo */
            }
            .hero .subtitle {
                font-size: 1em; /* Reducir tama√±o subt√≠tulo */
            }
            .control-panel {
                flex-direction: column; /* Apilar elementos verticalmente */
                align-items: stretch; /* Estirar elementos al ancho completo */
                gap: 0.75rem; /* Reducir espacio entre elementos apilados */
            }
            .control-panel .field,
            .control-panel .field .control,
            .control-panel .select,
            .control-panel select,
            .control-panel button {
                 width: 100%; /* Hacer que todos los controles ocupen el ancho */
            }
            .control-panel .field.is-grouped {
                flex-direction: column; /* Apilar botones tambi√©n */
                width: 100%;
            }
             .control-panel .field.is-grouped .control {
                 width: 100%; /* Ancho completo para controles agrupados */
            }
             .control-panel .field.is-grouped .control:not(:last-child) {
                  margin-bottom: 0.75rem; /* Espacio entre botones apilados */
             }

            .section {
                padding: 1.5rem 1rem; /* Reducir padding en m√≥vil */
            }

            #notificationArea {
                top: 0.5rem;
                right: 0.5rem;
                left: 0.5rem; /* Center notification slightly */
                width: auto; /* Allow it to size based on content */
            }
        }
         @media screen and (max-width: 480px) {
             .hero .title {
                 font-size: 1.6em;
             }
             .hero .subtitle {
                 font-size: 0.9em;
             }
              .inspiration-card h3.title {
                 font-size: 1.3em;
             }
             .inspiration-card h4.subtitle {
                 font-size: 1em;
             }
         }
    </style>
</head>
<body>

    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title is-size-1">
                    üßò Inspirador Y√≥guico üßò
                </h1>
                <h2 class="subtitle is-size-4">
                    Genera ideas frescas para tus redes sociales basadas en tendencias y sabidur√≠a ancestral.
                </h2>
            </div>
        </div>
    </section>

    <div class="main-content">
        <section class="section">
            <div class="container">

                <div class="control-panel">
                    <div class="field">
                        <label class="label has-text-centered" for="quantitySelect" style="color: var(--text-color);">¬øCu√°ntas inspiraciones deseas?</label>
                        <div class="control has-icons-left">
                            <div class="select is-rounded is-medium is-fullwidth"> <select id="quantitySelect" aria-label="Seleccionar cantidad de inspiraciones">
                                    <option value="3">3 Ideas</option>
                                    <option value="5" selected>5 Ideas</option>
                                    <option value="7">7 Ideas</option>
                                </select>
                            </div>
                            <span class="icon is-left">
                                ‚ú®
                            </span>
                        </div>
                    </div>
                     <div class="field is-grouped is-grouped-centered">
                        <div class="control">
                            <button id="generateBtn" class="button is-primary is-medium is-rounded">
                                <span class="icon">
                                    üí°
                                </span>
                                <span>Generar Inspiraciones</span>
                            </button>
                        </div>
                        <div class="control">
                            <button id="exportBtn" class="button is-info is-medium is-rounded" disabled>
                                <span class="icon">
                                    üìÑ
                                </span>
                                <span>Exportar a PDF</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="notificationArea" style="display: none;">
                    <div class="notification">
                        <button class="delete"></button>
                        <span id="notificationMessage"></span>
                    </div>
                </div>

                <div id="inspirationsContainerWrapper">
                     <h1 class="title is-2 pdf-title">Inspiraciones Y√≥guicas para Redes Sociales</h1>
                     <div id="inspirationsContainer">
                        <p class="has-text-centered" style="color: var(--text-color);">Selecciona la cantidad de ideas y haz clic en "Generar Inspiraciones" para comenzar.</p>
                    </div>
                </div>


                <div id="quoteContainer" class="yogi-quote">
                    </div>

            </div>
        </section>
    </div>

    <footer class="footer">
        <div class="content has-text-centered">
            <p>
                Creado con ‚ù§Ô∏è por un compa√±ero del camino y√≥guico. <br>
                Estilo por <a href="https://bulma.io" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color);">Bulma</a>, Animaciones por <a href="https://animate.style/" target="_blank" rel="noopener noreferrer" style="color: var(--primary-color);">Animate.css</a>.
            </p>
            <p id="currentYear"></p>
        </div>
    </footer>

    <script>
        // --- DATOS: TEMAS DE YOGA ---
        // (Data remains the same as previous version)
        const yogaThemes = [
            { id: 1, title: "Introducci√≥n a los Chakras", description: "Explora los 7 centros energ√©ticos principales del cuerpo.", angle: "C√≥mo equilibrar tu energ√≠a diaria identificando tus chakras dominantes y bloqueados.", hashtags: "#chakras #energiavital #equilibriointerior #yogaenespa√±ol #bienestarintegral #yogalatino", visualFormat: "Infograf√≠a colorida o serie de Reels cortos (uno por chakra).", hook: "¬øSientes bloqueos en tu vida? ¬°Podr√≠an ser tus chakras!", post: "Los chakras son v√≥rtices de energ√≠a en nuestro cuerpo sutil. Desde la ra√≠z (Muladhara) que nos conecta a la tierra, hasta la corona (Sahasrara) que nos une a lo divino, cada uno influye en nuestro bienestar f√≠sico y emocional. Aprender a identificarlos y equilibrarlos a trav√©s del yoga y la meditaci√≥n puede transformar tu vida, liberando bloqueos y potenciando tu vitalidad. ¬øCon cu√°l chakra resuenas m√°s hoy? ¬°Explora tu universo interior!" },
            { id: 2, title: "Posturas (Asanas) para Principiantes", description: "Fundamentos de las posturas b√°sicas de yoga.", angle: "5 posturas esenciales que cualquier persona puede hacer para empezar su pr√°ctica de yoga hoy mismo.", hashtags: "#yogaparaprincipiantes #asanasbasicas #posturasdeyoga #practicadiaria #flexibilidad #iniciacionyoga", visualFormat: "Carrusel de Instagram con fotos claras y descripci√≥n paso a paso, o video corto demostrativo.", hook: "¬°Despierta tu cuerpo! 5 posturas de yoga para iniciar tu camino.", post: "Iniciar en el yoga es un regalo para tu cuerpo y mente. Comienza con posturas fundamentales como Tadasana (Monta√±a) para encontrar tu centro, Adho Mukha Svanasana (Perro Boca Abajo) para energizarte, y Balasana (Ni√±o) para relajarte. Estas asanas construyen fuerza, flexibilidad y consciencia corporal. Recuerda: el yoga no es perfecci√≥n, es conexi√≥n. Respira profundo en cada postura y disfruta el proceso. ¬°Tu mat te espera con amor!" },
            { id: 3, title: "Pranayama: El Poder de la Respiraci√≥n", description: "T√©cnicas de respiraci√≥n y√≥guica y sus beneficios.", angle: "Una t√©cnica de Pranayama simple para calmar la ansiedad en menos de 5 minutos.", hashtags: "#pranayama #respiracionconsciente #calmamental #manejodelestres #yogaRespiracion #pazinterior", visualFormat: "Video corto (Reel/TikTok) guiando la t√©cnica, o post est√°tico con instrucciones claras.", hook: "¬øAnsiedad? ¬°Respira as√≠ y siente la calma al instante!", post: "Tu respiraci√≥n es la herramienta m√°s poderosa y accesible para gestionar tu estado interior. El Pranayama Nadi Shodhana (Respiraci√≥n Alterna) equilibra los hemisferios cerebrales, calma el sistema nervioso y reduce la ansiedad r√°pidamente. Si√©ntate c√≥modamente, cierra suavemente tus ojos y sigue el flujo del aire. Dedica solo unos minutos al d√≠a a esta pr√°ctica y notar√°s una profunda diferencia en tu claridad mental y paz interior. ¬°Inhala calma, exhala tensi√≥n!" },
            { id: 4, title: "Meditaci√≥n Mindfulness para el D√≠a a D√≠a", description: "Introducci√≥n a la meditaci√≥n de atenci√≥n plena.", angle: "C√≥mo integrar micro-meditaciones de 1 minuto en tu rutina diaria para reducir el estr√©s.", hashtags: "#meditacionmindfulness #atencionplena #momentopresente #pazinterior #mindfulnessdiario #vidaconsciente", visualFormat: "Audio corto (Story/Reel) con una gu√≠a de micro-meditaci√≥n, o un post gr√°fico con tips.", hook: "¬øSin tiempo para meditar? ¬°Prueba esto por 60 segundos!", post: "La meditaci√≥n no requiere horas. Integra la atenci√≥n plena en momentos cotidianos: mientras tomas tu caf√©, caminas o esperas. Enf√≥cate en tus sentidos: ¬øqu√© ves, hueles, sientes? Observa tu respiraci√≥n por un minuto. Estos instantes de mindfulness te anclan al presente, reduciendo el ruido mental y cultivando una calma profunda que te acompa√±a durante el d√≠a. Peque√±os momentos, grandes cambios. ¬øD√≥nde practicar√°s tu minuto de paz hoy?" },
            { id: 5, title: "Ayurveda y Doshas: Con√≥cete a Ti Mismo", description: "Principios b√°sicos de Ayurveda y los tres doshas (Vata, Pitta, Kapha).", angle: "Descubre tu dosha dominante y c√≥mo equilibrarlo con h√°bitos simples de alimentaci√≥n y estilo de vida.", hashtags: "#ayurveda #doshas #vata #pitta #kapha #medicinaindia #autoconocimiento #sabiduriaancestral", visualFormat: "Quiz interactivo en Stories, carrusel explicando cada dosha, o infograf√≠a comparativa.", hook: "¬øEres Vata, Pitta o Kapha? ¬°Descubre tu naturaleza ayurv√©dica!", post: "Ayurveda, la ciencia hermana del yoga, nos ense√±a que cada persona tiene una constituci√≥n √∫nica (Prakriti) definida por los doshas: Vata (aire/√©ter), Pitta (fuego/agua) y Kapha (tierra/agua). Conocer tu dosha dominante te permite entender tus tendencias naturales y c√≥mo mantener el equilibrio (Vikriti). Peque√±os ajustes en tu dieta y rutina, alineados con tu naturaleza, pueden mejorar dr√°sticamente tu salud y bienestar general. ¬°Abraza tu constituci√≥n √∫nica con sabidur√≠a!" },
            { id: 6, title: "Filosof√≠a del Yoga: Yamas y Niyamas", description: "Principios √©ticos y observancias personales en el camino del yoga.", angle: "C√≥mo aplicar 'Ahimsa' (No Violencia) en tus pensamientos, palabras y acciones diarias.", hashtags: "#filosofiayoga #yamasniyamas #ahimsa #yogaetico #crecimientopersonal #sutras #vidaconsciente", visualFormat: "Post reflexivo con una cita inspiradora, o un video corto explicando el concepto con ejemplos pr√°cticos.", hook: "Transforma tu vida desde adentro: El poder de la 'No Violencia' y√≥guica.", post: "El yoga va mucho m√°s all√° del mat. Los Yamas (principios √©ticos sociales) y Niyamas (observancias personales) son gu√≠as para vivir con consciencia plena. Ahimsa, el primero de los Yamas, nos invita a practicar la no violencia no solo en acciones, sino tambi√©n en palabras y pensamientos, hacia nosotros mismos y los dem√°s. Cultivar la compasi√≥n, la empat√≠a y el respeto en cada interacci√≥n diaria crea un impacto positivo profundo. ¬øC√≥mo puedes practicar Ahimsa hoy mismo?" },
            { id: 7, title: "Anatom√≠a Sutil: Nadis y Prana", description: "Exploraci√≥n de los canales energ√©ticos (Nadis) y la fuerza vital (Prana).", angle: "Visualizaci√≥n guiada para sentir el flujo de Prana a trav√©s de los principales Nadis (Ida, Pingala, Sushumna).", hashtags: "#anatomiasutil #nadis #prana #energiavital #yogayenergia #ida #pingala #sushumna #cuerposutil", visualFormat: "Video con meditaci√≥n guiada (fondo relajante), o post con ilustraci√≥n de los Nadis y explicaci√≥n.", hook: "Siente tu energ√≠a vital: ¬°Conecta con tus canales sutiles!", post: "M√°s all√° de m√∫sculos y huesos, existe una anatom√≠a sutil fascinante. Los Nadis son canales por donde fluye el Prana, nuestra fuerza vital esencial. Ida (lunar, femenino, calmante) y Pingala (solar, masculino, energizante) serpentean alrededor de Sushumna, el canal central que asciende por la columna vertebral. Equilibrar estos canales mediante pranayama y meditaci√≥n despierta nuestro potencial energ√©tico y espiritual. Cierra los ojos, respira profundo y siente el sutil flujo de vida dentro de ti." },
            { id: 8, title: "Yoga Sutras de Patanjali: Introducci√≥n", description: "Visi√≥n general del texto fundamental de la filosof√≠a del Yoga.", angle: "El Sutra clave 'Yogas Chitta Vritti Nirodhah' explicado de forma sencilla para la vida moderna.", hashtags: "#yogasutras #patanjali #filosofiayoga #calmamental #controldelamente #sabiduriaantigua #yogaenesencia", visualFormat: "Post gr√°fico con el sutra en s√°nscrito y su traducci√≥n/explicaci√≥n, o Reel corto discutiendo su relevancia.", hook: "¬øMente inquieta? La clave milenaria del Yoga para la calma.", post: "Los Yoga Sutras de Patanjali son un mapa invaluable hacia la liberaci√≥n interior. El famoso sutra 1.2, 'Yogas Chitta Vritti Nirodhah', define el yoga como 'el cese de las fluctuaciones de la mente'. En nuestro mundo acelerado, esta ense√±anza es vital. La pr√°ctica nos ayuda a observar nuestros pensamientos sin identificarnos con ellos, encontrando un espacio de quietud interior. No se trata de detener la mente, sino de no ser arrastrado por sus torbellinos. Paz en la mente, paz en la vida." },
            { id: 9, title: "Yoga Restaurativo: Descanso Profundo", description: "Posturas suaves y sostenidas para la relajaci√≥n y recuperaci√≥n.", angle: "Secuencia corta de Yoga Restaurativo para liberar tensi√≥n despu√©s de un d√≠a largo.", hashtags: "#yogarestaurativo #descansoprofundo #relajaciontotal #antiestres #bienestaremocional #autocuidado", visualFormat: "Video suave y lento mostrando la secuencia con m√∫sica relajante, o carrusel con fotos y props (cojines, mantas).", hook: "Reg√°late un respiro: ¬°Relajaci√≥n profunda con Yoga Restaurativo!", post: "En un mundo que glorifica la actividad constante, el descanso consciente es un acto revolucionario de amor propio. El Yoga Restaurativo utiliza soportes (props) para sostener el cuerpo en posturas c√≥modas durante varios minutos. Esto permite que el sistema nervioso pase del modo 'lucha o huida' al modo 'descanso y digesti√≥n', facilitando una relajaci√≥n profunda, sanaci√≥n y rejuvenecimiento integral. Una simple postura como Viparita Karani (piernas en la pared) puede hacer maravillas. ¬°Perm√≠tete soltar y recibir!" },
            { id: 10, title: "Saludos al Sol (Surya Namaskar): Fluir con Energ√≠a", description: "Secuencia din√°mica para empezar el d√≠a.", angle: "Los beneficios energ√©ticos y f√≠sicos de practicar 5 rondas de Saludos al Sol cada ma√±ana.", hashtags: "#suryanamaskar #saludoalsol #yogafluido #energiama√±anera #practicayoga #vinyasa #rutinamatutina", visualFormat: "Video Time-lapse o Real-time de la secuencia, o infograf√≠a mostrando las posturas y la respiraci√≥n.", hook: "¬°Empieza tu d√≠a con sol! El poder de Surya Namaskar.", post: "Surya Namaskar, el Saludo al Sol, es una secuencia cl√°sica que honra la energ√≠a vital del sol y de nuestro interior. Es una pr√°ctica completa en s√≠ misma: calienta el cuerpo, sincroniza respiraci√≥n y movimiento (vinyasa), mejora la circulaci√≥n y flexibiliza la columna vertebral. Practicarla por la ma√±ana despierta cuerpo y mente, llen√°ndote de vitalidad para el d√≠a. Dedica unos minutos a fluir con esta danza sagrada y siente c√≥mo tu energ√≠a se eleva. ¬°Namaste al nuevo d√≠a!" },
            { id: 11, title: "Yoga para la Espalda: Alivio y Fortaleza", description: "Posturas espec√≠ficas para mejorar la salud de la columna.", angle: "3 Asanas seguras y efectivas para aliviar el dolor lumbar causado por estar sentado.", hashtags: "#yogaparaespalda #dolordeespalda #columnavertebral #saludpostural #aliviodeldolor #bienestarcorporal", visualFormat: "Video corto demostrando las posturas con √©nfasis en la alineaci√≥n correcta, o carrusel detallado.", hook: "¬øDolor de espalda por la oficina? ¬°El yoga te rescata!", post: "Nuestra columna vertebral es el eje de nuestro bienestar f√≠sico y energ√©tico. El sedentarismo y las malas posturas pueden causar rigidez y dolor. El yoga ofrece herramientas maravillosas para cuidar tu espalda. Posturas como Marjaryasana-Bitilasana (Gato-Vaca) para movilizar, Setu Bandhasana (Puente) para fortalecer, y Supta Matsyendrasana (Torsi√≥n Supina) para liberar tensi√≥n, pueden marcar una gran diferencia. Mu√©vete con consciencia, respira profundo y reg√°lale salud y amor a tu columna." },
            { id: 12, title: "Mudras: Gestos Sagrados con las Manos", description: "El significado y uso de los mudras en la pr√°ctica y√≥guica.", angle: "Jnana Mudra (Gesto del Conocimiento): C√≥mo usarlo para mejorar la concentraci√≥n en la meditaci√≥n.", hashtags: "#mudras #gestossagrados #yogaconmanos #concentracion #meditacionguiada #energiauniversal #poderinterior", visualFormat: "Foto de las manos en el mudra con explicaci√≥n, o Reel corto guiando su pr√°ctica y beneficios.", hook: "El poder en tus manos: ¬°Descubre los Mudras!", post: "Los Mudras son gestos realizados con las manos que dirigen y sellan el flujo de energ√≠a (prana) en el cuerpo. Jnana Mudra, uniendo pulgar e √≠ndice, simboliza la uni√≥n de la conciencia individual (√≠ndice) con la conciencia universal (pulgar). Practicarlo durante la meditaci√≥n ayuda a calmar la mente, mejorar la concentraci√≥n y profundizar la introspecci√≥n. Prueba sentarte en silencio, adoptar este mudra con suavidad y observar la sutil pero poderosa diferencia. La sabidur√≠a est√° en tus manos." },
            { id: 13, title: "Yoga Nidra: El Sue√±o Consciente", description: "T√©cnica de relajaci√≥n profunda guiada.", angle: "Experimenta los beneficios de 20 minutos de Yoga Nidra (equivalente a horas de sue√±o reparador).", hashtags: "#yoganidra #sue√±oconsciente #relajacionprofunda #sanacion #descansoreparador #meditacionprofunda #resetmental", visualFormat: "Audio guiado de una sesi√≥n corta de Yoga Nidra (ideal para Stories o como podcast corto), o post explicando qu√© es.", hook: "¬øNecesitas un reset total? ¬°Prueba el Yoga Nidra!", post: "Yoga Nidra, o 'sue√±o y√≥guico', es una poderosa t√©cnica de meditaci√≥n guiada que induce un estado de relajaci√≥n profunda entre la vigilia y el sue√±o. Permite que el cuerpo descanse completamente mientras la mente permanece alerta y consciente, facilitando la liberaci√≥n de tensiones profundas. Es incre√≠blemente efectivo para reducir el estr√©s acumulado, mejorar la calidad del sue√±o, procesar emociones y reprogramar patrones mentales limitantes. Una sesi√≥n corta puede dejarte sinti√©ndote profundamente renovado. ¬°Date permiso para descansar as√≠!" },
            { id: 14, title: "Mantras: Vibraciones Sagradas", description: "El uso de sonidos y cantos en el yoga.", angle: "El significado y poder del mantra 'Om': C√≥mo usarlo para conectar con la vibraci√≥n universal.", hashtags: "#mantras #om #sonidosagrado #vibracionuniversal #meditacionconsonido #yogaymantras #japa", visualFormat: "Video corto cantando Om con explicaci√≥n, o post gr√°fico con el s√≠mbolo Om y su significado.", hook: "Siente la vibraci√≥n del universo: ¬°El poder del OM!", post: "Los Mantras son sonidos o palabras sagradas cargadas de energ√≠a que, al repetirse (Japa), calman la mente y elevan nuestra vibraci√≥n. 'Om' (o AUM) es considerado el sonido primordial, la vibraci√≥n misma de la creaci√≥n y la existencia. Cantarlo nos conecta con esa fuente universal, armonizando nuestro ser a nivel f√≠sico, mental y energ√©tico. Al entonar A-U-M, siente la vibraci√≥n resonando en tu cuerpo y permite que te lleve a un estado de paz y unidad profunda." },
            { id: 15, title: "Yoga en Pareja (Acroyoga B√°sico)", description: "Posturas divertidas y de conexi√≥n para practicar con un compa√±ero.", angle: "3 posturas simples de yoga en pareja para fortalecer la confianza y la conexi√≥n.", hashtags: "#yogaenpareja #acroyogabasico #conexion #confianza #yogadivertido #partneryoga #juegoyoga", visualFormat: "Carrusel con fotos de las posturas y tips de seguridad, o video corto mostrando la din√°mica.", hook: "¬°Conecta y divi√©rtete! Yoga para dos.", post: "Practicar yoga con un compa√±ero a√±ade una dimensi√≥n maravillosa de confianza, comunicaci√≥n no verbal y juego compartido. No tiene que ser acrob√°tico complejo para ser significativo. Posturas simples como la 'Doble Torsi√≥n Sentada' o el 'Doble √Årbol' fomentan el apoyo mutuo, la escucha corporal activa y la co-creaci√≥n del equilibrio. Es una forma hermosa de profundizar la conexi√≥n, ya sea con tu pareja, un amigo o familiar. Respiren juntos, encuentren el equilibrio y disfruten de la energ√≠a compartida." },
            { id: 16, title: "Medicina en el Yoga: Aplicaciones Terap√©uticas", description: "C√≥mo el yoga puede complementar tratamientos m√©dicos.", angle: "Yoga suave como apoyo para gestionar el estr√©s y la ansiedad en condiciones cr√≥nicas.", hashtags: "#yogaterapeutico #medicinanatural #bienestarintegral #manejodelestres #saludholistica #yogaessalud #yogacomplementario", visualFormat: "Post informativo citando estudios (si es posible) o testimonio (an√≥nimo/general), o Reel corto con ejercicios suaves.", hook: "Yoga como medicina: ¬øC√≥mo puede ayudarte en tu salud?", post: "El Yoga Terap√©utico adapta las pr√°cticas y√≥guicas a necesidades espec√≠ficas de salud, funcionando como un excelente complemento a tratamientos m√©dicos convencionales. Para condiciones cr√≥nicas, manejo del estr√©s o recuperaci√≥n, t√©cnicas como la respiraci√≥n consciente, posturas suaves y adaptadas, y meditaci√≥n pueden aliviar s√≠ntomas, mejorar el estado de √°nimo y empoderar al individuo en su proceso de sanaci√≥n integral. Siempre consulta con tu m√©dico y busca un profesor cualificado. El yoga puede ser un aliado invaluable en tu camino." }
        ];

        // --- DATOS: FRASES YOGUI ---
        // (Data remains the same as previous version)
        const yogiQuotes = [
            { quote: "El yoga es la pr√°ctica de aquietar la mente.", author: "Patanjali" },
            { quote: "La naturaleza del yoga es hacer brillar la luz de la conciencia en los rincones m√°s oscuros del cuerpo.", author: "B.K.S. Iyengar" },
            { quote: "Tu cuerpo existe en el pasado y tu mente en el futuro. En el yoga, ambos se unen en el presente.", author: "B.K.S. Iyengar" },
            { quote: "La respiraci√≥n es el puente que conecta la vida con la conciencia.", author: "Thich Nhat Hanh" },
            { quote: "El yoga no nos cambia, nos devuelve a quienes realmente somos.", author: "An√≥nimo" },
            { quote: "S√© amable contigo mismo. Est√°s haciendo lo mejor que puedes.", author: "An√≥nimo" },
            { quote: "La postura que m√°s temes es la que m√°s necesitas.", author: "An√≥nimo" },
            { quote: "El yoga es 99% pr√°ctica y 1% teor√≠a.", author: "Sri K. Pattabhi Jois" },
            { quote: "La paz viene de adentro. No la busques afuera.", author: "Buda" },
            { quote: "En la quietud reside la fuerza.", author: "Proverbio Zen" },
            { quote: "El yoga es un espejo para mirarnos a nosotros mismos desde adentro.", author: "B.K.S. Iyengar" },
            { quote: "Cuida tu cuerpo, es el √∫nico lugar que tienes para vivir.", author: "Jim Rohn (aplicable al yoga)" },
            { quote: "La flexibilidad que ganas en el mat es la flexibilidad que ganas en la vida.", author: "An√≥nimo" },
            { quote: "Inhala el futuro, exhala el pasado.", author: "An√≥nimo" },
            { quote: "El yoga es la uni√≥n del cuerpo, la mente y el esp√≠ritu.", author: "Definici√≥n Cl√°sica" },
            { quote: "Donde quiera que vayas, ve con todo tu coraz√≥n.", author: "Confucio (aplicable al yoga)" },
            { quote: "El regalo m√°s grande que puedes dar a otros es el de tu propia transformaci√≥n.", author: "Lao Tzu (aplicable al yoga)" }
        ];

        // --- REFERENCIAS AL DOM ---
        const quantitySelect = document.getElementById('quantitySelect');
        const generateBtn = document.getElementById('generateBtn');
        const exportBtn = document.getElementById('exportBtn');
        const inspirationsContainer = document.getElementById('inspirationsContainer');
        const inspirationsContainerWrapper = document.getElementById('inspirationsContainerWrapper');
        const quoteContainer = document.getElementById('quoteContainer');
        const notificationArea = document.getElementById('notificationArea');
        const notificationMessage = document.getElementById('notificationMessage');
        const notificationBox = notificationArea.querySelector('.notification');
        const notificationDeleteBtn = notificationArea.querySelector('.delete');
        const currentYearSpan = document.getElementById('currentYear');

        // --- FUNCIONES AUXILIARES ---

        /**
         * Gets a specified number of unique random items from an array.
         * @param {Array} arr - The array to select items from.
         * @param {number} num - The number of random items to get.
         * @returns {Array} An array containing the randomly selected items.
         */
        function getRandomItems(arr, num) {
            const shuffled = [...arr].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, Math.min(num, arr.length));
        }

        /**
         * Shows an animated notification.
         * @param {string} message - The message to display.
         * @param {string} [type='is-success'] - Notification type (Bulma class).
         * @param {number} [duration=4000] - Duration in ms before auto-hide.
         */
        function showNotification(message, type = 'is-success', duration = 4000) {
            notificationMessage.textContent = message;
            notificationBox.className = `notification ${type}`; // Base + type class

            notificationArea.style.display = 'block';
            // Add animation classes (ensure removal first if reusing)
            notificationBox.classList.remove('animate__fadeInRight', 'animate__fadeOutRight');
            notificationBox.classList.add('animate__animated', 'animate__fadeInRight');

            // Clear previous timeout if any
            if (notificationBox.hideTimeout) {
                clearTimeout(notificationBox.hideTimeout);
            }

            // Auto-hide
            notificationBox.hideTimeout = setTimeout(() => {
                hideNotification();
            }, duration);
        }

         /**
          * Hides the notification with animation.
          */
        function hideNotification() {
            if (notificationArea.style.display === 'none') return;

            notificationBox.classList.remove('animate__fadeInRight');
            notificationBox.classList.add('animate__animated', 'animate__fadeOutRight');

            // Wait for animation to finish before hiding
            setTimeout(() => {
                notificationArea.style.display = 'none';
                notificationBox.classList.remove('animate__fadeOutRight'); // Clean up class
                 if (notificationBox.hideTimeout) {
                    clearTimeout(notificationBox.hideTimeout); // Clear timeout just in case
                    notificationBox.hideTimeout = null;
                 }
            }, 500); // Match animation duration
        }

        // Add listener to the notification delete button
        if (notificationDeleteBtn) {
            notificationDeleteBtn.addEventListener('click', hideNotification);
        }

        // --- L√ìGICA PRINCIPAL ---

        /**
         * Displays the generated inspirations in the HTML container.
         * @param {Array<object>} inspirations - Array of selected yoga theme objects.
         */
        function displayInspirations(inspirations) {
            inspirationsContainer.innerHTML = ''; // Clear previous content
            inspirationsContainer.classList.remove('animate__animated', 'animate__fadeInUp'); // Clear previous animation class

            if (inspirations.length === 0) {
                inspirationsContainer.innerHTML = '<p class="has-text-centered">No se generaron inspiraciones. Intenta de nuevo.</p>';
                return;
            }

            // Create and append a card for each inspiration
            inspirations.forEach((theme, index) => {
                const card = document.createElement('div');
                // Add Bulma and Animate.css classes with staggered delay
                card.className = 'box inspiration-card animate__animated animate__fadeInUp';
                card.style.animationDelay = `${index * 0.1}s`;

                card.innerHTML = `
                    <h3 class="title is-4">${theme.title}</h3>
                    <h4 class="subtitle is-6">√Ångulo Narrativo:</h4>
                    <p>${theme.angle}</p>
                    <h4 class="subtitle is-6">Gancho Verbal:</h4>
                    <p><em>"${theme.hook}"</em></p>
                    <h4 class="subtitle is-6">Formato Visual Sugerido:</h4>
                    <p>${theme.visualFormat}</p>
                    <h4 class="subtitle is-6">Post Relacionado (~70-80 palabras):</h4>
                    <div class="content">
                        <p>${theme.post}</p>
                    </div>
                    <h4 class="subtitle is-6">Hashtags:</h4>
                    <div class="tags">
                        ${theme.hashtags.split(' ').map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                `;
                inspirationsContainer.appendChild(card);
            });
        }

        /**
         * Selects and displays a random yogi quote.
         */
        function displayYogiQuote() {
            const randomQuote = yogiQuotes[Math.floor(Math.random() * yogiQuotes.length)];
            quoteContainer.innerHTML = `
                <p>"${randomQuote.quote}"</p>
                <cite>- ${randomQuote.author}</cite>
            `;
            // Re-apply animation class for visual feedback
            quoteContainer.classList.remove('animate__fadeInUp');
            void quoteContainer.offsetWidth; // Force reflow to restart animation
            quoteContainer.classList.add('animate__animated', 'animate__fadeInUp');
        }

        /**
         * Main function executed when "Generate Inspirations" is clicked.
         */
        function generateInspirations() {
            const quantity = parseInt(quantitySelect.value, 10);

            if (yogaThemes.length < quantity) {
                 showNotification('Advertencia: No hay suficientes temas √∫nicos para la cantidad seleccionada.', 'is-warning');
                 // Continue generating with available themes
            }

            const selectedInspirations = getRandomItems(yogaThemes, quantity);
            displayInspirations(selectedInspirations);
            displayYogiQuote(); // Display a new quote each time

            exportBtn.disabled = selectedInspirations.length === 0; // Disable export if nothing generated

            if (selectedInspirations.length > 0) {
                showNotification(`¬°${selectedInspirations.length} nuevas inspiraciones generadas!`, 'is-success');
                // Scroll smoothly to the generated content
                inspirationsContainerWrapper.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        /**
         * Function executed when "Export to PDF" is clicked.
         */
        function exportToPdf() {
             if (inspirationsContainer.children.length === 0 || inspirationsContainer.textContent.includes('para comenzar')) {
                 showNotification('Primero genera algunas inspiraciones para poder exportar.', 'is-warning');
                 return;
            }

            const currentDate = new Date();
            const day = String(currentDate.getDate()).padStart(2, '0');
            const month = String(currentDate.getMonth() + 1).padStart(2, '0');
            const year = currentDate.getFullYear();
            const filename = `Inspiraciones_Yoga_${day}-${month}-${year}.pdf`;

            const elementToExport = inspirationsContainerWrapper;
            const pdfTitleElement = elementToExport.querySelector('.pdf-title');

            // --- Prepare for PDF export ---
            // 1. Make title visible
            if (pdfTitleElement) pdfTitleElement.style.display = 'block';
            // 2. Add a class to the wrapper to temporarily disable animations / ensure visibility for PDF generation
            elementToExport.classList.add('pdf-export-prepare');


            // --- html2pdf options ---
            const opt = {
              margin:       [15, 10, 15, 10], // [top, left, bottom, right] in mm
              filename:     filename,
              image:        { type: 'jpeg', quality: 0.98 },
              html2canvas:  {
                  scale: 2, // Better resolution
                  useCORS: true,
                  logging: false,
                  // Attempt to capture elements even if slightly off-screen
                  // windowWidth: elementToExport.scrollWidth,
                  // windowHeight: elementToExport.scrollHeight
              },
              jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' },
              // Try to avoid breaking cards across pages
              pagebreak:    { mode: ['avoid-all', 'css', 'legacy'] }
            };

            // Disable button and show progress
            exportBtn.disabled = true;
            exportBtn.innerHTML = `<span class="icon">‚è≥</span><span>Generando PDF...</span>`;

            // --- Generate PDF ---
            html2pdf().set(opt).from(elementToExport).save()
                .then(() => {
                    showNotification(`PDF "${filename}" generado correctamente.`, 'is-success');
                })
                .catch(err => {
                    showNotification(`Error al generar el PDF: ${err.message || err}`, 'is-danger', 6000);
                    console.error("Error generando PDF:", err);
                })
                .finally(() => {
                    // --- Clean up after PDF export ---
                    // 1. Hide title again
                    if (pdfTitleElement) pdfTitleElement.style.display = 'none';
                    // 2. Remove the preparation class
                    elementToExport.classList.remove('pdf-export-prepare');
                    // 3. Re-enable button
                    exportBtn.disabled = false;
                    exportBtn.innerHTML = `<span class="icon">üìÑ</span><span>Exportar a PDF</span>`;
                });
        }


        // --- INICIALIZACI√ìN ---
        document.addEventListener('DOMContentLoaded', () => {
            displayYogiQuote(); // Show initial quote

            // Assign event listeners
            generateBtn.addEventListener('click', generateInspirations);
            exportBtn.addEventListener('click', exportToPdf);

            // Set current year in footer
            if(currentYearSpan) {
                 currentYearSpan.textContent = `¬© ${new Date().getFullYear()}`;
            }
        });

    </script>

</body>
</html>
